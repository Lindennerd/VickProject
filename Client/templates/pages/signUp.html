<div class="card card-block" ng-controller="SignUpController">
    <h4 class="card-title">{{title}}</h4>
    <hr>
    <div class="container">
        <form name="newUserForm" ng-submit="signUp()" novalidate>
            <div class="form-group row" ng-class="{'has-danger':  newUserForm.username.$touched && !newUserForm.username.$valid}">
                <label for="username" class="col-sm-2 col-form-label">Nome de Usuário</label>
                <div class="col-sm-10">
                    <input type="text" name="username" ng-model="newUser.userName" class="form-control " placeholder="Digite o seu nome de usuário desejado"
                        required username />
                </div>
                <div ng-messages="newUserForm.username.$error" ng-if="newUserForm.username.$touched && !newUserForm.username.$valid" 
                    class="form-control-feedback">
                    <div class="col-sm-10"> 
                        <p ng-show="newUserForm.username.$pending.username">Validando nome de usuário...</p>
                        <p ng-if="newUserForm.username.$error.username" ng-message="username">Já existe um usuário com esse nome</p>
                        <p ng-if="newUserForm.username.$error.required" ng-message="required">Este campo é obrigatório</p>
                    </div>
                </div>
            </div>

            <div class="form-group row" ng-class="{'has-danger':  newUserForm.email.$touched && !newUserForm.email.$valid }">
                <label for="email" class="col-sm-2 col-form-label">Endereço de email</label>
                <div class="col-sm-10">
                    <input type="email" name="email" ng-model="newUser.emailAddress" class="form-control" placeholder="Digite o seu endereço de email"
                        required  emailvalid/>

                </div>
                <div ng-messages="newUserForm.email.$error" ng-if="newUserForm.email.$touched && !newUserForm.email.$valid" class="form-control-feedback">
                    <div class="col-sm-10">
                        <p ng-show="newUserForm.email.$pending.emailvalid">Validando email...</p>
                        <p ng-if="newUserForm.email.$error.emailvalid" ng-message="username">Já existe um usuário com esse endereço de email</p>
                        <p ng-if="newUserForm.email.$error.required" ng-message="required">Este campo é obrigatório</p>
                        <p ng-if="newUserForm.email.$error.email" ng-message="email">O endereço de email digitado é inválido</p>
                    </div>
                </div>
            </div>

            <div class="form-group row" ng-class="{'has-danger': newUserForm.password.$touched && !newUserForm.password.$valid }">
                <label for="password" class="col-sm-2 col-form-label">Senha</label>
                <div class="col-sm-10">
                    <input type="password" name="password" ng-model="newUser.password" class="form-control"
                    placeholder="Digite sua senha de no mínimo 4 dígitos, contendo letras e números" required password />

                </div>
                <div ng-messages="newUserForm.password.$error" ng-if="newUserForm.password.$touched && !newUserForm.password.$valid" class="form-control-feedback">
                    <div class="col-sm-10">
                        <p ng-if="newUserForm.password.$error.required" ng-message="required">Este campo é obrigatório</p>
                        <p ng-if="newUserForm.password.$error.password" ng-message="password">A senha não atende os requisitos mínimos de segurança</p>
                    </div>
                </div>
            </div>

            <div class="form-group row" ng-class="{'has-danger': newUserForm.confirmPassword.$touched && !newUserForm.confirmPassword.$valid}">
                <label for="confirmPassword" class="col-sm-2 col-form-label">Senha</label>
                <div class="col-sm-10">
                    <input type="password" name="confirmPassword" ng-model="newUser.confirmPassword" class="form-control"
                        placeholder="Confirme sua senha" required equals="{{newUser.password}}" />
                </div>
                <div ng-messages="newUserForm.confirmPassword.$error" ng-if="newUserForm.confirmPassword.$touched && !newUserForm.confirmPassword.$valid" class="form-control-feedback">
                    <div class="col-sm-10">
                       <p ng-if="newUserForm.confirmPassword.$error.required" ng-message="required">Este campo é obrigatório</p>
                       <p ng-if="newUserForm.confirmPassword.$error.equals" ng-message="password">Os valores digitados não conferem</p>
                    </div>
                </div>
            </div>

            <input type="submit" class="btn btn-primary" ng-disabled="!newUserForm.$valid" value="Criar Usuário">
        </form>
    </div>
</div>

<div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="signup-success">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="myModalLabel">Sucesso :D</h4>
        </div>
          <div class="modal-body">
              <p>Usuário criado com sucesso</p>
          </div>
    </div>
  </div>
</div>

<div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="signup-error">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="myModalLabel">Erro :(</h4>
        </div>
          <div class="modal-body">
              <p>Houve um erro ao criar seu usuário...</p>
              <p>Lamentamos o transtorno</p>
          </div>
    </div>
  </div>
</div>  